# 位置情報確認アプリ プロトタイプ要件定義書

## 1. プロジェクト概要

### 1.1 アプリ名
**Location Ask** (仮称)

### 1.2 目的
- 「離れた場所の今の状況を知りたい人」と「その場にいる人」をマッチングさせ、リアルタイムな情報共有が成立するかを検証する
- ボランティアベースでのユーザー協力が、どの程度成立するかを検証する

### 1.3 ターゲットユーザー
- 遠隔地の情報を知りたい個人
- その場所に居合わせた人で、他のユーザーを助けたい人

## 2. ユーザーの役割

### 2.1 依頼者 (Client)
- 現地の情報の確認を依頼する人
- 回答を確認し、完了とする

### 2.2 回答者 (Responder)
- 依頼に応え、現地で情報を確認・報告する人
- ボランティアで情報を提供する

**※ 全てのユーザーは、依頼者にも回答者にもなれる。**

## 3. 主要機能一覧

### 3.1 ユーザー登録/ログイン

#### 機能詳細
- メールアドレスとパスワードで登録
- シンプルなユーザー情報のみ管理

#### 画面項目
- メールアドレス (必須)
- パスワード (必須、6文字以上)
- パスワード確認 (必須)
- ユーザー名 (必須、表示名)

#### 備考
- SNS連携は実装しない
- パスワードリセット機能は実装しない (プロトタイプのため)

---

### 3.2 依頼の作成 (投稿)

#### 機能詳細
依頼者が現地の情報を確認してほしい内容を投稿する。

#### 入力項目
- **タイトル** (必須、50文字以内)
- **説明文** (必須、500文字以内)
- **場所** (地図上で指定、必須)
- **参考写真** (任意、1枚まで)

#### ビジネスルール
- 投稿後は即座に地図上に表示される
- 依頼者は自分の依頼を削除できる

---

### 3.3 依頼の検索 (地図表示)

#### 機能詳細
- アプリ起動時、現在地周辺の地図を表示
- 地図上に、アクティブな依頼をピンで表示
- ピンをタップすると、依頼の概要（タイトル、投稿日時）をポップアップ表示
- ポップアップから詳細画面へ遷移可能

#### 表示項目
- 地図 (Google Maps API / Mapbox など)
- 依頼ピン (色でステータスを表示)
  - 青: 募集中
  - 黄: 回答待ち
  - 緑: 完了

#### 備考
- リスト表示は実装しない
- 検索フィルタリングも実装しない

---

### 3.4 依頼の詳細表示

#### 表示項目
- タイトル
- 説明文
- 場所 (地図表示)
- 参考写真 (あれば)
- 投稿日時
- 依頼者のユーザー名
- ステータス (募集中 / 回答待ち / 完了)
- 回答内容 (回答があれば表示)

#### アクション
- 「この依頼を受ける」ボタン (募集中のみ表示)
- 「完了にする」ボタン (依頼者のみ、回答待ち状態で表示)

---

### 3.5 回答の作成 (報告)

#### 機能詳細
回答者が依頼を受け、現地で確認した情報を報告する。

#### 入力項目
- **写真** (必須、1枚)
- **コメント** (必須、500文字以内)

#### ビジネスルール
- 回答は1つの依頼につき1人まで (早い者勝ち)
- 回答が投稿されると、依頼のステータスが「回答待ち」に変わる
- 依頼者に通知が送信される

#### 備考
- 完了の証明として写真は必須とする

---

### 3.6 依頼の完了

#### 機能詳細
依頼者が回答内容を確認し、完了とする。

#### 完了フロー
1. 回答が投稿される
2. 依頼者に通知が届く
3. 依頼者が回答を確認
4. 「完了にする」ボタンを押す
5. 依頼のステータスが「完了」に変わる

#### ビジネスルール
- (オプション) 24時間以内に完了操作がなければ、自動完了

#### 備考
- プロトタイプでは否認機能は実装しない
- トラブル対応は考慮しない

---

### 3.7 マイページ

#### 表示項目
- ユーザー名
- メールアドレス
- 依頼履歴
  - 自分が投稿した依頼のリスト
  - ステータス、投稿日時
- 回答履歴
  - 自分が回答した依頼のリスト
  - ステータス、回答日時
- 統計情報
  - 総依頼数
  - 総回答数
  - 完了した依頼数 / 回答数

#### アクション
- 各履歴をタップして詳細表示

---

### 3.8 通知機能

#### 通知タイミング
- 自分の依頼に回答が投稿された時
- 自分の回答が完了とされた時

#### 実装方法
- プッシュ通知 (任意、時間がかかる場合はアプリ内通知のみでも可)
- アプリ内通知バッジ表示

---

## 4. プロトタイプで実装「しない」機能

以下の機能はプロトタイプでは実装せず、将来的な拡張として検討する。

- **ポイント・報酬機能**: 金銭的インセンティブは一切なし
- **決済機能**: 課金・決済は行わない
- **チャット機能**: ユーザー間のコミュニケーション
- **評価・レビュー機能**: ユーザーの信頼性スコア
- **法人向け機能**: B2C、B2Bモデル
- **詳細な検索・フィルタリング機能**: カテゴリ別検索、距離範囲指定など
- **パスワードリセット機能**
- **プロフィール編集機能** (名前変更など)
- **依頼の編集機能** (投稿後は削除のみ可能)
- **複数回答の受付機能** (1依頼につき1回答まで)

---

## 5. 非機能要件

### 5.1 パフォーマンス
- 地図の表示は3秒以内に完了すること
- 依頼の投稿・回答は5秒以内に完了すること

### 5.2 セキュリティ
- パスワードはハッシュ化して保存
- APIアクセスには認証トークンを使用
- 写真のアップロードは適切なサイズ制限を設ける (例: 5MB以内)

### 5.3 対応環境
- **モバイルアプリ**: iOS / Android (または Web アプリでも可)
- **対応ブラウザ** (Webアプリの場合): Chrome, Safari の最新版

### 5.4 データ保存
- ユーザー情報、依頼情報、回答情報をデータベースに保存
- 写真はクラウドストレージに保存 (例: AWS S3, Cloudinary)

---

## 6. データモデル概要

### 6.1 ユーザー (Users)
- user_id (主キー)
- email
- password_hash
- username (表示名)
- created_at
- updated_at

### 6.2 依頼 (Requests)
- request_id (主キー)
- user_id (依頼者、外部キー)
- title
- description
- location (緯度経度)
- reference_image_url (任意)
- status (募集中 / 回答待ち / 完了)
- created_at
- updated_at

### 6.3 回答 (Responses)
- response_id (主キー)
- request_id (外部キー)
- user_id (回答者、外部キー)
- photo_url (必須)
- comment
- created_at
- completed_at (完了日時)

---

## 7. 画面遷移図 (概要)

```
[ログイン/登録画面]
        ↓
    [地図画面] (メイン)
        ↓
    [依頼詳細画面]
        ↓
    [回答作成画面]

[地図画面] → [依頼作成画面]
[地図画面] → [マイページ]
[マイページ] → [依頼履歴詳細]
[マイページ] → [回答履歴詳細]
```

---

## 8. 開発スケジュール (目安)

### フェーズ1: 設計 (1週間)
- 詳細設計、DB設計、API設計、画面モックアップ作成

### フェーズ2: バックエンド開発 (2週間)
- ユーザー認証、依頼投稿、回答投稿のAPI実装

### フェーズ3: フロントエンド開発 (2週間)
- 地図表示、依頼作成・詳細表示、回答作成、マイページの実装

### フェーズ4: テスト・デバッグ (1週間)
- 機能テスト、バグ修正

### フェーズ5: デプロイ・検証 (1週間)
- 本番環境へのデプロイ、ユーザーテスト

**合計: 約7週間**

---

## 9. 成功指標 (KPI)

プロトタイプの検証として、以下の指標を測定する。

- **ユーザー登録数**: 目標 50人以上
- **依頼投稿数**: 目標 30件以上
- **回答率**: 投稿された依頼のうち、回答が付いた割合 (目標 40%以上)
- **完了率**: 回答のうち、完了とされた割合 (目標 80%以上)
- **平均回答時間**: 依頼投稿から回答までの時間 (目標 48時間以内)
- **ユーザーの役割分布**: 依頼のみ / 回答のみ / 両方のユーザー比率

---

## 10. リスクと対策

### 10.1 回答が付かないリスク
**リスク**: 依頼が投稿されても、誰も回答しない
**対策**:
- 初期段階では、開発チームや友人がダミーユーザーとして回答する
- 回答のしやすい依頼の例を提示する

### 10.2 不適切な回答
**リスク**: 虚偽の情報や無関係な写真が投稿される
**対策**: プロトタイプでは依頼者の完了判断で対応。将来的には通報機能や運営チェックを導入

### 10.3 法的問題
**リスク**: 他人の私有地への侵入や、プライバシー侵害
**対策**: 利用規約で責任範囲を明記。回答者に対して常識的な行動を促す

### 10.4 モチベーション不足
**リスク**: 報酬がないため、回答者が集まらない
**対策**:
- コミュニティ意識の醸成 (「助け合い」の文化)
- 将来的には、バッジやランキングなどのゲーミフィケーション要素を検討

---

## 11. 今後の拡張機能 (将来的な検討事項)

- カテゴリ別の依頼分類 (店舗情報、自然環境、交通状況など)
- 複数回答の受付と、ベストアンサーの選択
- チャット機能で詳細な質問が可能に
- ユーザー評価システム (信頼性スコア、バッジ)
- ゲーミフィケーション要素 (ランキング、実績解除)
- ポイント・報酬機能の追加
- 法人向けの情報収集サービス
- AI による回答内容の検証

---

## 12. 参考資料

- Google Maps API ドキュメント
- Firebase Authentication
- React Native / Flutter (クロスプラットフォーム開発)
- PostgreSQL / MongoDB (データベース)

---

**作成日**: 2025-10-15
**バージョン**: 2.0 (ポイント機能なし版)
**作成者**: Location Ask 開発チーム
